---
import ThemeSwitcher from "./ThemeSwitcher";
const currentPath = Astro.url.pathname;
const isHomePage = currentPath === "/" || currentPath === "/index.html";
---

<header
  class="fixed top-0 left-0 right-0 z-50 bg-neutrals-900/80 backdrop-blur-sm"
>
  <div class="container mx-auto px-4 py-4 flex justify-between items-center">
    <a href="/" class="text-2xl font-bold">
      <img
        src="/images/logo.png"
        alt="Your Logo"
        class="logo-image w-auto h-8 md:h-10 transition-transform duration-300 ease-in-out hover:scale-105"
      />
    </a>
    <nav>
      <ul class="flex space-x-4">
        <li>
          <a
            href={isHomePage ? "#about" : "/#about"}
            class="hover:text-primary transition-colors">About</a>
        </li>
        <li>
          <a
            href={isHomePage ? "#work" : "/#work"}
            class="hover:text-primary transition-colors">Work</a>
        </li>
        <li>
          <a
            href={isHomePage ? "#services" : "/#services"}
            class="hover:text-primary transition-colors">Services</a>
        </li>
        <li>
          <a
            href={isHomePage ? "#contact" : "/#contact"}
            class="hover:text-primary transition-colors">Contact</a>
        </li>
      </ul>
    </nav>
    <ThemeSwitcher client:load />
  </div>
</header>

<script>
  // Smooth scrolling for anchor links on the home page
  if (
    window.location.pathname === "/" ||
    window.location.pathname === "/index.html"
  ) {
    document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        const targetId = this.getAttribute("href").substring(1);
        const targetElement = document.getElementById(targetId);
        if (targetElement) {
          targetElement.scrollIntoView({
            behavior: "smooth",
          });
        }
      });
    });
  }
</script>
