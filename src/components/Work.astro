---
import projects from '../data/projects.js';
---

<section id="work" class="py-20 bg-neutrals-900">
    <div class="container mx-auto px-4">
        <h2 class="text-3xl md:text-5xl font-bold mb-8 text-center">My Work</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            {projects.map((project) => (
                <div class="bg-neutrals-800 rounded-lg overflow-hidden shadow-lg">
                    <div class={`relative ${!project.completed ? 'project-incomplete' : ''}`}>
                        {project.images && project.images.length > 0 ? (
                            <img
                                src={project.images[0]}
                                alt={project.title}
                                class="w-full h-48 object-cover"
                            />
                        ) : (
                            <div class="w-full h-48 bg-neutrals-700 flex items-center justify-center">
                                <span class="text-neutrals-400">No image available</span>
                            </div>
                        )}
                        {!project.completed && (
                            <div class="absolute inset-0 bg-neutrals-900 bg-opacity-70 flex items-center justify-center">
                                <p class="text-neutrals-300 text-lg">Coming Soon</p>
                            </div>
                        )}
                    </div>
                    <div class="p-4">
                        <h3 class="text-xl font-semibold mb-2">
                            {project.title}
                        </h3>
                        <p class="text-neutrals-300 mb-4">
                            {project.shortDescription}
                        </p>
                        {project.completed ? (
                            <a href={`/projects/${project.slug}`} class="text-primary hover:underline">
                                View Project
                            </a>
                        ) : (
                            <span class="text-neutrals-500">Coming Soon</span>
                        )}
                    </div>
                </div>
            ))}
        </div>
    </div>
</section>

<style>
    .project-incomplete img {
        filter: grayscale(100%) brightness(40%);
    }
</style>